<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="ractive.js"></script>
    <script type="text/javascript" src="receipt.js"></script>
  </head>

  <body>
    <div id="customer"></div>
    <div id="orderItems"></div>
    <div id="orderSummary"></div>

    <!-- Mustache templates -->
    <script id="customerTmpl" type="text/ractive">
      <p>Customer Name: {{ customerName }}</p>
      <p>Address: {{ address }}</p>
      <p>Contact Number: {{ contactNumber }}</p>
    </script>

    <script id="orderItemsTmpl" type="text/ractive">
      <table border="0">
        <caption>Summary of Orders</caption>
        <tr>
          <th>Quantity</th>
          <th>Product Description</th>
          <th>Amount</th>
        </tr>
        {{#each items }}
        <tr>
          <td>{{ quantity }}</td>
          <td>{{ description }}</td>
          <td style="text-align: right;">{{ amount }}</td>
        </tr>
        {{/each}}
      </table>
    </script>

    <script id="orderSummaryTmpl" type="text/ractive">
      <table border="0">
        <tr>
          <td>Total Amount</td>
          <td style="text-align: right;">{{ totalAmount }}</td>
        </tr>
        <tr>
          <td>12% VAT</td>
          <td style="text-align: right;">{{ vat }}</td>
        </tr>
        <tr>
          <td>10% Service charge</td>
          <td style="text-align: right;">{{ serviceCharge }}</td>
        </tr>
        <tr style="font-weight: bold;">
          <td>Total Amount Due</td>
          <td style="text-align: right;">{{ totalAmountDue }}</td>
        </tr>
      </table>
    </script>
    <!-- end of templates -->

    <!-- main script -->
    <script type="text/javascript">
      var customer = new Ractive({
        el: "#customer",
        template: "#customerTmpl",
        data: {
          "customerName": "Tristan Peralta",
          "address": "102 Rochas",
          "contactNumber": "0291231232"
        }
      });

      var orderItems = new Ractive({
        el: "#orderItems",
        template: "#orderItemsTmpl",
        data: { items: [
          { "quantity": 10, "description": "Hamburger", "amount": "PHP10.00" },
          { "quantity": 2, "description": "Cheeseburger", "amount": "PHP12.00" },
          { "quantity": 3, "description": "Spaghetti", "amount": "PHP20.00" },
        ]},
      });

      var orderSummary = new Ractive({
        el: "#orderSummary",
        template: "#orderSummaryTmpl",
        data: {
          "totalAmount": "PHP30.00",
          "var": "PHP30.00",
          "serviceCharge": "PHP10.00",
          "totalAmountDue": "PHP100.00"
        }
      });
    </script>
  </body>
</html>
