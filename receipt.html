
<html>
    <head>
        <script>
            // Pang pantay
            function addSpaces(amount) {
                for(var i = 0; i < amount; i++)
                    document.write("&nbsp;");
            }
            
            /** Gets the values from the search bar (Dont mind this)*/
            function getValue(instance) {
                var passedInformation = location.search.toString();
                var value = passedInformation.indexOf(instance);

                if(value == -1) 
                    return null;
                
                value = passedInformation.substring(value);
                value = value.substring(value.indexOf("=") + 1);
    
                if(value.indexOf("&") != -1)
                    value = value.substring(0,value.indexOf("&"));
                
                value = setAppropriateSpaces(value);
                
                return value.split("%2C");
            }
            
            /** The search bar cannot make spaces, therefore it is transformed into '+'. This function brings back the spaces. (Don't Mind This) */
            function setAppropriateSpaces(value) {
                var newValue = "";
                for(var i = 0; i < value.length; i++) {
                    if(value.charAt(i) == "+")
                        newValue += " ";
                    else
                        newValue += value.charAt(i);
                }
                return newValue;
            }
            
            /** Just for putting dynamic spaces to align the prices (IGNORE THIS) pang pantay lang din*/
            function addDynamicSpacing(value, ones, tens, hundreds) {
                if(value < 10)
                    addSpaces(ones);
                else if(value < 100)
                    addSpaces(tens);
                else
                    addSpaces(hundreds);
            }   
            
            //flavor,flavorSpace1,flavorSpace2 are reserved for addOns only
            function addToReceiptCheck(product,quantity,price,quantitySpace1,quantitySpace2,priceSpace1,priceSpace2,flavor,flavorSpace1,flavorSpace2) {
                //If product checkbox is not checked AND quantity is equal to zero, the product will not be added to the receipt.
                if(product != null && quantity != 0) {
                    var price = price * quantity;
                    totalPrice += price;
                    document.write("<br>");
                    (quantity < 10)? addSpaces(28): addSpaces(27);
                    document.write(quantity); 
                    (quantity < 10)? addSpaces(quantitySpace1): addSpaces(quantitySpace2);
                    document.write(product); 
                    (price < 100)? addSpaces(priceSpace1): addSpaces(priceSpace2);
                    document.write("PhP " + price.toFixed(2));
                    
                    // The following will only run for addOns
                    if(flavor == "Cheese" || flavor == "Choco") {
                        document.write("<br>");
                        addSpaces(flavorSpace1);
                    } else if(flavor == "Barbecue" || flavor == "Vanilla") {
                        document.write("<br>");
                        addSpaces(flavorSpace2);
                    }
                    
                    if(flavor != null)
                        document.write("(" + flavor + ")");
                }
            }
        </script>
    </head>
    <body>
        <script>
            /** If a specific value does not exist, the variable contains "null" */
            var customerName = getValue("customerName"); 
            var address = getValue("address");
            var contactNumber = getValue("contactNumber");
            var hamburger = getValue("hamburger_ckbx"); // if has value, hamburger = value, which is "Hamburger". if has no value, hamburger == null(Applies to all Variables except customer info) */
            var hamburgerQuantity = parseInt(getValue("hamburgerQuantity_slct"));
            var cheeseburger = getValue("cheeseburger_ckbx"); 
            var cheeseburgerQuantity = parseInt(getValue("cheeseburgerQuantity_slct")); 
            var spaghetti = getValue("spaghetti_ckbx"); 
            var spaghettiQuantity = parseInt(getValue("spaghettiQuantity_slct")); 
            var chicken = getValue("chicken_ckbx"); 
            var chickenQuantity = parseInt(getValue("chickenQuantity_slct")); 
            var fries = getValue("fries_ckbx"); 
            var friesFlavor = getValue("friesFlavor_rbtn"); 
            var friesQuantity = parseInt(getValue("friesQuantity_slct"));
            var sundae = getValue("sundae_ckbx"); 
            var sundaeFlavor = getValue("sundaeFlavor_rbtn"); 
            var sundaeQuantity = parseInt(getValue("sundaeQuantity_slct"));
            
            document.write("<br><br><br><br><center><font face = 'Arial'>")
            
            addSpaces(20);
            document.write("<b>Customer Name: </b>" + customerName + "<br>");
            addSpaces(20);
            document.write("<b>Address: </b>" + address + "<br>");
            addSpaces(20);
            document.write("<b>Contact Number: </b>" + contactNumber + "<br><br>");
            addSpaces(20);
            document.write("<b>Summary of Orders: </b><br><br>");
            addSpaces(20);
            document.write("<b>Quantity</b>");
            addSpaces(30);
            document.write("<b>Product Description</b>");
            addSpaces(30);
            document.write("<b>Amount</b>");
            addSpaces(30);
            
            var totalPrice = 0; // price calculated from the addToReceiptCheck function is added to the total price.
        
            addToReceiptCheck(hamburger,hamburgerQuantity,25,49,47,37,36);
            addToReceiptCheck(cheeseburger,cheeseburgerQuantity,33,46,45,36,34);
            addToReceiptCheck(spaghetti,spaghettiQuantity,38,50,48,40,38);
            addToReceiptCheck(chicken,chickenQuantity,50,43,42,32,30)
            
            document.write("<br><br>");
            addSpaces(20);
            if((fries != null && friesQuantity != 0) || (sundae != null && sundaeQuantity != 0))
                document.write("Add-Ons");
            
            addToReceiptCheck(fries,friesQuantity,25,48,46,37,36,friesFlavor,81,79);
            addToReceiptCheck(sundae,sundaeQuantity,30,52,51,42,40,sundaeFlavor,82,82);
            
            document.write("<br><br>");
            addSpaces(69);
            document.write("<b>Total Amount:</b>");
            addDynamicSpacing(totalPrice,42,41,39); // Ignore
            document.write("PhP " + totalPrice.toFixed(2) + "<br>");
            
            var vat = 0.12 * totalPrice; 
            
            addSpaces(69);
            document.write("12% VAT");
            addDynamicSpacing(vat,55,53,52)
            document.write("PhP " + vat.toFixed(2) + "<br>");
            
            var serviceCharge = 0.10 * totalPrice;
            
            addSpaces(69);
            document.write("10% Service Charge");
            addDynamicSpacing(serviceCharge,33,31,30);
            document.write("PhP " + serviceCharge.toFixed(2) + "<br>");
            
            var totalPriceDue = totalPrice + vat + serviceCharge;
            
            addSpaces(135);
            document.write("___________<br>");
            
            addSpaces(69);
            document.write("<b>Total Amount Due:</b>");
            addDynamicSpacing(totalPriceDue,33,31,29);
            document.write("PhP " + totalPriceDue.toFixed(2) + "<br><br>");
            
        </script>
    </body>
</html>